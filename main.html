<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>RAST-V2 - Layui</title>
  <link rel="stylesheet" href="web/js/smart_wizard/smart_wizard_all.min.css">
  <link rel="stylesheet" href="web/js/layui/css/layui.css">
  <link rel="stylesheet" href="web/js/tippy/tippy.css">
  <link rel="stylesheet" href="web/js/tippy/scale.css">
  <link rel="stylesheet" href="web/js/tippy/scale-subtle.css">
  <link rel="stylesheet" href="web/js/tippy/scale-extreme.css">
  <link rel="stylesheet" href="web/js/tippy/light.css">
  <link rel="stylesheet" href="web/js/tippy/light-border.css">
  <link rel="stylesheet" href="web/js/tippy/material.css">
  <link rel="stylesheet" href="web/js/tippy/translucent.css">
  <link rel="stylesheet" href="web/pages/style/common-style.css">
  <style>
    .darkmode-layer, .darkmode-toggle {
      z-index: 50000000;
    }
  </style>
</head>
<body id="homeView">


<!-- body 末尾处引入 layui -->
<script src="web/js/darkmode/darkmode-js.min.js"></script>
<script src="web/js/layui/layui.js"></script>
<script src="web/js/tippy/popper.min.js"></script>
<script src="web/js/tippy/tippy-bundle.umd.js"></script>
<script src="web/js/echarts/echarts.min.js"></script>
<script src="web/js/xm_select/xm-select.js"></script>
<script src="web/js/jquery/jquery-3.7.1.min.js"></script>
<script src="web/js/smart_wizard/jquery.smartWizard.min.js"></script>
<script src="web/js/wavesurfer/wavesurfer.min.js"></script>
<script src="web/js/wavesurfer/regions.min.js"></script>
<script src="web/js/wavesurfer/timeline.min.js"></script>
<script src="web/js/wavesurfer/hover.min.js"></script>
<script src="web/js/wavesurfer/spectrogram.min.js"></script>
<script src="web/js/wavesurfer/zoom.min.js"></script>
<script src="web/js/wavefile/wavefile.js"></script>
<script src="web/js/sortable/Sortable.min.js"></script>
<script src="web/pages/common/common_jquery.js"></script>
<script src="web/config.js"></script>
<script src="web/pages/common/ras_api.js"></script>
<script src="web/pages/bean/common_bean.js"></script>
<script src="web/pages/common/util.js"></script>
<script src="web/pages/common/audio.js"></script>
<script src="web/pages/common/wavesurfer.js"></script>
<script>
  
  window.onload = function(){
    layui.use(function(){
      
      CommonSpace.customJquery($)
      CommonSpace.loadHtmls([
              'web/pages/business/tts_correction/tts_correction_create.html',
              'web/pages/business/tts_correction/tts_correction_inference.html',
              'web/pages/business/tts_correction/tts_correction_list.html',
              'web/pages/business/finished_product/finished_product.html',
              'web/pages/business/finished_product/finished_product_edit.html',
              'web/pages/business/finished_product/finished_product_speak.html',
              'web/pages/business/inference_task/inference_task.html',
              'web/pages/business/inference_task/task_detail.html',
              'web/pages/business/inference_task/reference_select.html',
              'web/pages/business/inference_task/text_manager.html',
              'web/pages/business/inference_task/inference_task_result_audio_list.html',
              'web/pages/business/inference_task/inference_task_sound_fusion_select.html',
              'web/pages/business/long_text_inference/long_text_inference.html',
              'web/pages/business/long_text_inference/inference_params_edit.html',
              'web/pages/business/long_text_inference/long_text_deal_with.html',
              'web/pages/business/long_text_inference/long_text_refer_audio_select.html',
              'web/pages/business/long_text_inference/long_text_result_audio_select.html',
              'web/pages/business/long_text_inference/long_text_select.html',
              'web/pages/business/reference_audio/reference_audio.html',
              'web/pages/business/reference_audio/reference_audio_edit.html',
              'web/pages/business/reference_audio/reference_audio_split.html',
              'web/pages/business/reference_audio/reference_audio_split_item.html',
              'web/pages/business/reference_audio/reference_audio_compare.html',
              'web/pages/business/reference_audio/report_result.html',
              'web/pages/business/result_evaluation/result_evaluation.html',
              'web/pages/business/result_evaluation/result_audio_list.html',
              'web/pages/business/result_evaluation/result_audio_all_detail.html',
              'web/pages/business/sound_fusion/sound_fusion_edit.html',
              'web/pages/business/sound_fusion/sound_fusion_manager.html',
              'web/pages/business/sound_fusion/sound_fusion_select.html',
              'web/pages/business/home.html',
      ],function () {

        window.HomePage = HomeSpace.getHome('homeView').render()

        const options = {
          bottom: '13%', // default: '32px'
          right: '32px', // default: '32px'
          left: 'unset', // default: 'unset'
          time: '0.5s', // default: '0.3s'
          mixColor: '#fff', // default: '#fff'
          backgroundColor: '#fff',  // default: '#fff'
          buttonColorDark: '#100f2c',  // default: '#100f2c'
          buttonColorLight: '#fff', // default: '#fff'
          saveInCookies: true, // default: true,
          label: '🌓', // default: ''
          autoMatchOsTheme: true // default: true
        }
        
        new Darkmode(options).showWidget();
        
      })

      $(document).keydown(function(event) {
        // 检查是否按下了 Esc 键
        if (event.which === 27) {
          // 执行你需要的操作
          // alert('Esc 键被按下！');

          layui.layer.closeLast();
          
          return false; // 阻止默认行为
        }
      });
      
    });
  }
  
</script>
</body>
</html>
